# SPDX-License-Identifier: MIT
find_package(json-c)

create_mock_lib(
  NAME
    mock_message_handler
  SOURCES
    mock_message_handler.c
  INCLUDES
    ${CMAKE_CURRENT_SOURCE_DIR}
    $<TARGET_PROPERTY:libelosplugin_static,INCLUDE_DIRECTORIES>
  LIBRARIES
    libelosplugin_static_weak
    cmocka_extensions::cmocka_extensions
    json-c
  WRAP_FLAG
    MOCK_ELOS_ELOSD_MESSAGE_HANDLER_FUNC_LINKER_WRAPPING
  WRAPS
    elosMessageHandlerSendJson
    elosMessageEventCreate
    elosMessageEventPush
    elosMessageEventRemove
    elosMessageEventlistCreate
    elosMessageEventlistGetLimit
    elosMessageEventlistRead
    elosMessageEventlistRemove
    elosMessageEventlistSetLimit
    elosMessageGetVersion
    elosMessageHandlerResponseCreate
)
