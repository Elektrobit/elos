<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="../../../_static/favicon_16x16.png" sizes="16x11" rel="icon" type="image/png">
    <link href="../../../_static/favicon_32x32.png" sizes="32x21" rel="icon" type="image/png">
    <title>eloslog &#8212; elos  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=039e1c02" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="canonical event format" href="../event/index.html" />
    <link rel="prev" title="Components" href="../index.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="eloslog">
<h1>eloslog<a class="headerlink" href="#eloslog" title="Link to this heading">¶</a></h1>
<p>This component contains common code as a part of the elos log API. The common code converts the given individual
log parameters into an elos event. These log events are then stored in the elos backend and can be retrieved using
event filters for various purposes.</p>
<section id="createeloseventfromlog">
<h2>CreateElosEventFromLog<a class="headerlink" href="#createeloseventfromlog" title="Link to this heading">¶</a></h2>
<p>The log parameters passed to this function is converted into an elos event. The event parameters are set as follows :</p>
<ul class="simple">
<li><p>The event date is set using the clock_gettime function.</p></li>
<li><p>The event pid is set using the getpid glibc function.</p></li>
<li><p>The event source application file name is set by reading the link path
present in <cite>proc/self/exe</cite> using the readlink function.</p></li>
<li><p>The event source application name is set by extracting the application name from application filename using strrchr function.</p></li>
<li><p>The event severity is set from the passed severity parameter.</p></li>
<li><p>Hardwareid will ideally be set using the <cite>safuGetHardwareId</cite> but for now is set using the gethostname function.</p></li>
<li><p>The event classification is set from the passed classification parameter.</p></li>
<li><p>The event messageCode is set from the passed messageCode parameter.</p></li>
<li><p>The event payload is set from the passed logMessage parameter.</p></li>
</ul>
</section>
<section id="logsafufallback">
<h2>LogSafuFallback<a class="headerlink" href="#logsafufallback" title="Link to this heading">¶</a></h2>
<p>The LogSafuFallback is the fallback function when event creation for logging fails. When event creation fails this fallback function is called which logs the log message using the safulog API functions. The safulog function logs the message normally on the console, which is then visible as logs based on the loglevel filter set on the elos config. The safulog API functions are mapped according to the <cite>severity</cite> parameter so that the message is logged with th correct log level. The mapping is as follows :</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Severity</p></th>
<th class="head"><p>Safulog Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ELOS_SEVERITY_FATAL</p></td>
<td><p>safuLogCrit</p></td>
</tr>
<tr class="row-odd"><td><p>ELOS_SEVERITY_ERROR</p></td>
<td><p>safuLogErr</p></td>
</tr>
<tr class="row-even"><td><p>ELOS_SEVERITY_WARN</p></td>
<td><p>safuLogWarn</p></td>
</tr>
<tr class="row-odd"><td><p>ELOS_SEVERITY_INFO</p></td>
<td><p>safuLogInfo</p></td>
</tr>
<tr class="row-even"><td><p>ELOS_SEVERITY_DEBUG</p></td>
<td><p>safuLogDebug</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/elos_blue.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">elos</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../doc/userManual.html">Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demos/index.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../build/Debug/doc/source_generated/api/index.html">public API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Developers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../clients/index.html">elos-clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../common/index.html">common</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/index.html">Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../elosd/index.html">elosd</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../libelos/index.html">libelos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../libelosplugin/index.html">libelosplugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../version/index.html">Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#intro">Intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#the-input-and-output-data-formats">The input and output data formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#components">Components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../build/Debug/doc/source_generated/developer/api/index.html">Complete API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc/Architecture_Design_Records/index.html">ADRs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc/index.html">How we document</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../test/index.html">Verification Strategy or how we test</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../github/index.html">GitHub CI</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Elos Source</a><ul>
  <li><a href="../index.html">Components</a><ul>
      <li>Previous: <a href="../index.html" title="previous chapter">Components</a></li>
      <li>Next: <a href="../event/index.html" title="next chapter">canonical event format</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, wolfgang.gehrhardt@emlix.com.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../../_sources/src/components/eloslog/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>